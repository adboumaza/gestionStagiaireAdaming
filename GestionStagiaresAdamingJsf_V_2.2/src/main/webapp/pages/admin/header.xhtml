<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">
<h:head>
	<title>Header</title>
</h:head>
<ui:composition>
	<header class="header dark-bg">
		<div class="toggle-nav">
			<div class="icon-reorder tooltips"
				data-original-title="Toggle Navigation" data-placement="bottom">
				<i><h:graphicImage width="32px" height="32px" name="NiceAdmin/img/home.png"/></i>
			</div>
		</div>
		<h:link outcome="index" class="logo">INTI 
        <span class="lite">FORMATION</span>
		</h:link>
		<div class="top-nav notification-row">
			<!-- notificatoin dropdown start-->
			<ul class="nav pull-right top-menu">

				<li class="dropdown"><a data-toggle="dropdown"
					class="dropdown-toggle" href="#"> <span class="profile-ava">

					</span>
					<span class="profile-ava">
					#{userAuthentification.user.name}</span> <b class="caret"></b></a>
					<ul class="dropdown-menu extended logout">
						<div class="log-arrow-up"></div>
						<li class="eborder-top">
						<h:outputLink  value="#{request.contextPath}/j_spring_security_logout"><i><h:graphicImage style="width: 20px" name="NiceAdmin/img/shutdown.png"/></i> Déconnection</h:outputLink></li>
					</ul>
				</li>
				<!-- user login dropdown end -->
			</ul>
			<!-- notificatoin dropdown end-->
		</div>
		  <div class="top-nav notification-row">                
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">
                    
                    <!-- task notificatoin start -->
                    <li id="task_notificatoin_bar" class="dropdown">
 
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span>
	                            <i><h:graphicImage styleClass="button"  style="width: 20px;" name="NiceAdmin/img/going-to-work.png"/></i>
	                            <h:outputLabel value="#{dashboardBean.countRetards}"  styleClass="#{dashboardBean.countRetards gt 0 ? 'myclassActive':'myclass'}"/>
                            </span>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>                           
                                <p class="blue">il y a  #{dashboardBean.countRetards} nouveaux retards</p>
                            </li>
                            <li>
                              <ui:repeat var="r" value="#{dashboardBean.retardsJournaliereLimited}">
                                <h:link outcome="evenement_journaliere">
                                    <span class="photo"><h:graphicImage name="NiceAdmin/img/user_formateur.png"/></span>
                                    <span class="subject">
	                                    <span class="from" >#{r[3]}</span>
	                                    <span class="time">
			                                 <h:outputLabel rendered="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60) gt 60}" value="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60*60)}">
		                                          <f:convertNumber pattern="0"></f:convertNumber>
		                                     </h:outputLabel>
		                                      <h:outputLabel rendered="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60) eq 60}" value="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60*60)}">
		                                          <f:convertNumber pattern="0"></f:convertNumber>
		                                     </h:outputLabel>
		                                      <h:outputLabel rendered="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60) lt 60}" value="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60)}">
		                                          <f:convertNumber pattern="0"></f:convertNumber>
		                                     </h:outputLabel>
		                                     <p:spacer width="5"></p:spacer>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60) gt 60}" value="hrs"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60) eq 60}" value="h"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - r[4].time)/(1000*60) lt 60}" value="min"></h:outputLabel>
	                                    </span>
                                    </span>
                                    <span class="form">
	                                    <h:outputLabel value="#{r[4]}">
	                                          <f:convertDateTime type="date" dateType="short" />
	                                    </h:outputLabel>
                                    </span>
                                    <br/>
				                     <ul class="chats">
					                      <!-- Chat by us. Use the class "by-me". -->
					                      <li class="by-me">
					                        <div class="chat-content">
					                          l'étudiant  #{r[6]} #{r[7]}  est en Retard
					                        </div>
					                      </li> 
				                     </ul>
                                </h:link>
                              </ui:repeat>
                            </li>
                            <c:if test="#{fn:length(dashboardBean.retardsJournaliereLimited) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                    <!-- task notificatoin end -->
                    <!-- inbox notificatoin start-->
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i><h:graphicImage  style="width: 20px;" name="NiceAdmin/img/bell.png"/></i>
                            <h:outputLabel value="#{dashboardBean.countAbsence}"  styleClass="#{dashboardBean.countAbsence gt 0 ? 'myclassActive':'myclass'}"/>
                        </a>
                        
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.countAbsence} nouveaux absences</p>
                            </li>
                            <li>
                              <ui:repeat var="a" value="#{dashboardBean.absenceJournaliereLimited}">
                                <h:link outcome="evenement_journaliere">
                                    <span class="photo"><h:graphicImage name="NiceAdmin/img/user_formateur.png"/></span>
                                    <span class="subject">
	                                    <span class="from" >#{a[3]}</span>
	                                    <span class="time">
		                                    <h:outputLabel rendered="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60) gt 60}" value="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60*60)}">
		                                        <f:convertNumber pattern="0"></f:convertNumber>
		                                    </h:outputLabel>
											<h:outputLabel rendered="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60) eq 60}" value="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60*60)}">
											    <f:convertNumber pattern="0"></f:convertNumber>
											</h:outputLabel>
											<h:outputLabel rendered="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60) lt 60}" value="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60)}">
											    <f:convertNumber pattern="0"></f:convertNumber>
											</h:outputLabel>
											<p:spacer width="5"></p:spacer>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60) gt 60}" value="hrs"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60) eq 60}" value="h"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - a[4].time)/(1000*60) lt 60}" value="min"></h:outputLabel>
	                                    </span>
                                    </span>
                                    <span class="form">
	                                    <h:outputLabel value="#{a[4]}">
	                                          <f:convertDateTime type="date" dateType="short" />
	                                    </h:outputLabel>
                                    </span>
                                    <br/>
                                     <ul class="chats">
					                      <!-- Chat by us. Use the class "by-me". -->
					                      <li class="by-me">
					                        <div class="chat-content">
					                           l'étudiant  #{a[6]} #{a[7]}  est Absent
					                        </div>
					                      </li> 
				                     </ul>
                                </h:link>
                              </ui:repeat>
                            </li>
                             <c:if test="#{fn:length(dashboardBean.absenceJournaliereLimited) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                    <!-- inbox notificatoin end -->
                    <!-- alert notification start-->
                     
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i><h:graphicImage  style="width: 20px;" name="NiceAdmin/img/warning.png"/></i>
                            <h:outputLabel value="#{dashboardBean.countWarning}"  styleClass="#{dashboardBean.countWarning gt 0 ? 'myclassActive':'myclass'}"/>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.countWarning} nouveaux Warning</p>
                            </li>
                            <li>
                              <ui:repeat var="w" value="#{dashboardBean.warningJournaliereLimited}">
                               <h:link outcome="evenement_journaliere">
                                   <span class="photo"><h:graphicImage name="NiceAdmin/img/user_formateur.png"/></span>
                                    <span class="subject">
	                                    <span class="from" >#{w[3]}</span>
	                                    <span class="time">
		                                    <h:outputLabel rendered="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60) gt 60}" value="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60*60)}">
		                                       <f:convertNumber pattern="0"></f:convertNumber>
		                                    </h:outputLabel>
											<h:outputLabel rendered="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60) eq 60}" value="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60*60)}">
											  <f:convertNumber pattern="0"></f:convertNumber>
											</h:outputLabel>
											<h:outputLabel rendered="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60) lt 60}" value="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60)}">
											  <f:convertNumber pattern="0"></f:convertNumber>
											</h:outputLabel>
											 <p:spacer width="5"></p:spacer>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60) gt 60}" value="hrs"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60) eq 60}" value="h"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - w[4].time)/(1000*60) lt 60}" value="min"></h:outputLabel>
	                                    </span>
                                    </span>
                                    <span class="form">
	                                    <h:outputLabel value="#{w[4]}">
	                                          <f:convertDateTime type="date" dateType="short" />
	                                    </h:outputLabel>
                                    </span>
                                    <br/>
                                    <ul class="chats">
					                      <!-- Chat by us. Use the class "by-me". -->
					                      <li class="by-me">
					                        <div class="chat-content">
					                           l'étudiant  #{w[6]} #{w[7]}  en Warning
					                        </div>
					                      </li> 
				                     </ul>
                                </h:link>
                              </ui:repeat>
                            </li>
                             <c:if test="#{fn:length(dashboardBean.warningJournaliereLimited) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                     <!-- inbox notificatoin start-->
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i><h:graphicImage  style="width: 20px;" name="NiceAdmin/img/star.png"/></i>
                           <h:outputLabel value="#{dashboardBean.countTop}"  styleClass="#{dashboardBean.countTop gt 0 ? 'myclassActive':'myclass'}"/>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.countTop} nouveaux Top</p>
                            </li>
                            <li>
                              <ui:repeat var="t" value="#{dashboardBean.topJournaliereLimited}">
                                <h:link outcome="evenement_journaliere">
                                   <span class="photo"><h:graphicImage name="NiceAdmin/img/user_formateur.png"/></span>
                                    <span class="subject">
	                                    <span class="from" >#{t[3]}</span>
	                                    <span class="time">
		                                    <h:outputLabel rendered="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60) gt 60}" value="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60*60)}">
		                                      <f:convertNumber pattern="0"></f:convertNumber>
		                                    </h:outputLabel>
											<h:outputLabel rendered="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60) eq 60}" value="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60*60)}">
											  <f:convertNumber pattern="0"></f:convertNumber>
											</h:outputLabel>
											<h:outputLabel rendered="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60) lt 60}" value="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60)}">
											  <f:convertNumber pattern="0"></f:convertNumber>
											</h:outputLabel>
											 <p:spacer width="5"></p:spacer>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60) gt 60}" value="hrs"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60) eq 60}" value="h"></h:outputLabel>
		                                     <h:outputLabel rendered="#{(dashboardBean.currentTime.time - t[4].time)/(1000*60) lt 60}" value="min"></h:outputLabel>
	                                    </span>
                                    </span>
                                    <span class="form">
	                                    <h:outputLabel value="#{t[4]}">
	                                          <f:convertDateTime type="date" dateType="short" />
	                                    </h:outputLabel>
                                    </span>
                                    <br/>
                                    <ul class="chats">
					                      <!-- Chat by us. Use the class "by-me". -->
					                      <li class="by-me">
					                        <div class="chat-content">
					                             l'étudiant  #{t[6]} #{t[7]}  est le Top
					                        </div>
					                      </li> 
				                     </ul>
                                </h:link>
                              </ui:repeat>
                            </li>
                             <c:if test="#{fn:length(dashboardBean.topJournaliereLimited) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                    <!-- inbox notificatoin end -->
                    <!-- alert notification end-->
                    
                </ul>
                <!-- notificatoin dropdown end-->
            </div>
	</header>	
	<!--header end-->
</ui:composition>
</html>