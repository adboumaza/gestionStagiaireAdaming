<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">
<h:head>
	<title>BootsFaces Basic Page</title>
</h:head>
<ui:composition>
	<header class="header dark-bg">
		<div class="toggle-nav">
			<div class="icon-reorder tooltips"
				data-original-title="Toggle Navigation" data-placement="bottom">
				<i><div class="lines"></div></i>
				<i><div class="lines"></div></i>
				<i><div class="lines"></div></i>
				
			</div>
		</div>
		<h:link outcome="index" class="logo">INTI 
        <span class="lite">FORMATION</span>
		</h:link>
		<div class="top-nav notification-row">
			<!-- notificatoin dropdown start-->
			<ul class="nav pull-right top-menu">

				<!-- task notificatoin start -->
				<li id="task_notificatoin_bar" class="dropdown"><a
					data-toggle="dropdown" class="dropdown-toggle" href="#"> </a>
					<ul class="dropdown-menu extended tasks-bar">
						<div class="notify-arrow notify-arrow-blue"></div>
						<li>
							<p class="blue">You have 6 pending letter</p>
						</li>
					</ul></li>
				<li class="dropdown"><a data-toggle="dropdown"
					class="dropdown-toggle" href="#"> <span class="profile-ava">

					</span>
					<span class="profile-ava">
					#{userAuthentification.user.name}</span> <b class="caret"></b></a>
					<ul class="dropdown-menu extended logout">
						<div class="log-arrow-up"></div>
						<li class="eborder-top">
						<h:outputLink value="${pageContext.request.contextPath}/myapp/j_spring_security_logout"><i><h:graphicImage style="width: 20px" name="NiceAdmin/img/shutdown.png"/></i> Déconnection</h:outputLink></li>
					</ul>
				</li>
				<!-- user login dropdown end -->
			</ul>
			<!-- notificatoin dropdown end-->
		</div>
		  <div class="top-nav notification-row">                
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">
                    
                    <!-- task notificatoin start -->
                    <li id="task_notificatoin_bar" class="dropdown">
                               
                                    <h:outputScript>
                                    
                                     
                                     function btnColor(btn, color) {
                                        var id1 = document.getElementById("btnHousing");
                                        var id2 = document.getElementById('btnHousing1');
                                        var id3 = document.getElementById('btnHousing2');
                                        var id4 = document.getElementById('btnHousing3');
										var property = document.getElementById(btn);
										
										     
										    if (property.className !== 'badge')
										     { 
										        
										        property.style.backgroundColor="rgb(255,0,0)";
										        property.className = 'badge';
										    }
										    else {
										        property.style.backgroundColor = "rgb(0,160,223)";
										        
										        property.className = '';
										    }
										}
                                      
                                    </h:outputScript>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span>
	                            <i><h:graphicImage styleClass="button" onclick="btnColor('btnHousing','rgb(0,160,223)');"  style="width: 20px;" name="NiceAdmin/img/going-to-work.png"/></i>
	                            <span class="myclass" id="btnHousing"  onclick="btnColor('btnHousing','rgb(0,160,223)');" >#{dashboardBean.numberOfCurrentRetards}</span>
                            </span>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.numberOfCurrentRetards} nouveaux retards</p>
                            </li>
                            <li>
                              <ui:repeat var="r" value="#{dashboardBean.limitationRetards}">
                                <h:link outcome="evenement_journaliere">
                                   
                                    <span class="subject">
	                                    <span class="from" >#{r.signaleur}</span>
	                                    <span class="time">#{r.hoursOfEvenement}h #{r.minuteOfEvenement} min</span>
                                        <span class="from">#{r.dayOfEvenement}</span>
                                        <span class="from">#{r.monthOfEvenement}</span>		
                                    </span>
                                    <span class="message">
                                       l'étudiant #{r.etudiant.nomEtudiant} #{r.etudiant.prenomEtudiant} est en retard
                                    </span>
                                </h:link>
                              </ui:repeat>
                            </li>
                            <c:if test="#{fn:length(dashboardBean.limitationRetards) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                    <!-- task notificatoin end -->
                    <!-- inbox notificatoin start-->
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i><h:graphicImage onclick="btnColor('btnHousing1','rgb(0,160,223)');"  style="width: 20px;" name="NiceAdmin/img/bell.png"/></i>
                            <span class="myclass" id="btnHousing1" onclick="btnColor('btnHousing1','rgb(0,160,223)');" >#{dashboardBean.numberOfCurrentAbsences}</span>
                        </a>
                        
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.numberOfCurrentAbsences} nouveaux absences</p>
                            </li>
                            <li>
                              <ui:repeat var="s" value="#{dashboardBean.limitationAbsences}">
                                <h:link outcome="evenement_journaliere">
                                    
                                    <span class="subject">
	                                    <span class="from">#{s.signaleur}</span>
	                                    <span class="time">#{s.hoursOfEvenement}h #{s.minuteOfEvenement} min</span>
                                    </span>
                                    <span class="message">
                                       l'étudiant #{s.etudiant.nomEtudiant} #{s.etudiant.prenomEtudiant} est absent
                                    </span>
                                </h:link>
                              </ui:repeat>
                            </li>
                             <c:if test="#{fn:length(dashboardBean.limitationAbsences) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                    <!-- inbox notificatoin end -->
                    <!-- alert notification start-->
                     
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i><h:graphicImage onclick="btnColor('btnHousing2','rgb(0,160,223)');"  style="width: 20px;" name="NiceAdmin/img/warning.png"/></i>
                            <span class="myclass" id="btnHousing2" onclick="btnColor('btnHousing2','rgb(0,160,223)');">#{dashboardBean.numberOfCurrentWarning}</span>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.numberOfCurrentWarning} nouveaux Warning</p>
                            </li>
                            <li>
                              <ui:repeat var="s" value="#{dashboardBean.limitationWarning}">
                                <h:link outcome="evenement_journaliere">
                                    
                                    <span class="subject">
	                                    <span class="from">#{s.signaleur}</span>
	                                    <span class="time">#{s.hoursOfEvenement}h #{s.minuteOfEvenement} min</span>
                                    </span>
                                    <span class="message">
                                       l'étudiant #{s.etudiant.nomEtudiant} #{s.etudiant.prenomEtudiant} en Warning
                                    </span>
                                </h:link>
                              </ui:repeat>
                            </li>
                             <c:if test="#{fn:length(dashboardBean.limitationWarning) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                     <!-- inbox notificatoin start-->
                    <li id="mail_notificatoin_bar" class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <i><h:graphicImage onclick="btnColor('btnHousing3','rgb(0,160,223)');"  style="width: 20px;" name="NiceAdmin/img/star.png"/></i>
                            <span class="myclass" id="btnHousing3" onclick="btnColor('btnHousing3','rgb(0,160,223)');" >#{dashboardBean.numberOfCurrentTop}</span>
                        </a>
                        <ul class="dropdown-menu extended inbox">
                            <div class="notify-arrow notify-arrow-blue"></div>
                            <li>
                                <p class="blue">il y a  #{dashboardBean.numberOfCurrentTop} nouveaux Top</p>
                            </li>
                            <li>
                              <ui:repeat var="s" value="#{dashboardBean.limitationTop}">
                                <h:link outcome="evenement_journaliere">
                                    
                                    <span class="subject">
	                                    <span class="from">#{s.signaleur}</span>
	                                    <span class="time">#{s.hoursOfEvenement}h #{s.minuteOfEvenement} min</span>
                                    </span>
                                    <span class="message">
                                       l'étudiant #{s.etudiant.nomEtudiant} #{s.etudiant.prenomEtudiant} est le Top
                                    </span>
                                </h:link>
                              </ui:repeat>
                            </li>
                             <c:if test="#{fn:length(dashboardBean.limitationTop) >=4 }">
	                            <li>
	                                <h:link outcome="evenement_journaliere">Voir tous les messages</h:link>
	                            </li>
                            </c:if>
                        </ul>
                    </li>
                    <!-- inbox notificatoin end -->
                    <!-- alert notification end-->
                    
                </ul>
                <!-- notificatoin dropdown end-->
            </div>
	</header>	
	<!--header end-->
</ui:composition>
</html>