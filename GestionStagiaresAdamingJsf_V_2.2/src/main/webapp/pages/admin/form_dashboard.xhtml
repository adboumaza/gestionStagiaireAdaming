
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:pe="http://primefaces.org/ui/extensions">
	
    
<ui:composition>
    <br> </br>
	<br> </br>
	<br> </br>
<div class="well container">
        <section class="wrapper">
           <div class="row">
				<div class="col-lg-12">
					<ol class="breadcrumb">
						<h3 class="page-header"><i><h:graphicImage name="NiceAdmin/img/dashboard.png"/> </i> Dashboard</h3>
					</ol>
				</div>
			</div>   
			<div class="row">
			<div class="col-lg-12">
			 <section class="panel">
			   <div class="panel-body">
			        <header class="panel-heading">
                          <h4>Session En Cours</h4>
                      </header>
                     <div class="panel-body text-center">
                            
							     <form>
									<table class="table bootstrap-datatable countries">
										<thead>
											<tr>
												<th>Formation</th>
												<th>Date Début</th>
												<th>Date Fin</th>
												<th>Lieu</th>
												<th>Progressions</th>
											</tr>
										</thead>  
										 <ui:repeat value="#{dashboardBean.sessionsInProgress}" var="x"> 
										<tbody>
											<tr>
											    <td>#{x.specialite.designation}</td>
												<td>#{x.dateDebute}</td>
												<td>#{x.dateFin}</td>
												<td>#{x.lieu}</td>
												<td style="width:300px">
							                    <b:progressBar  look="danger" animated="true"
													value="#{x.dateDebuteInDays}" min="0" max="#{x.dateFinInDays}"
													tooltip="large-screen='two-thirds'" large-screen="two-thirds" />
											    </td>
										    </tr>
										</tbody>
										  </ui:repeat>
							        </table>
							</form>
						
							</div>
					   </div>
			   </section>
			</div>
	  </div>
			 <div class="row">
              <!-- chart morris start -->
              <div class="col-lg-12">
                  <section class="panel">
                      <header class="panel-heading">
                          <h4>Evénement de cette Semaine</h4>
                      </header>

                      <div class="panel-body">
                            <div class="tab-pane" id="chartjs">
                                  <div class="row">
                                      <!-- Line -->
                                      <div class="col-lg-6">
                                          <section class="panel">
                                              <header class="panel-heading">
                                                  Retard
                                              </header>
                                               <div class="panel-body text-center">
                                               <c:if test="#{fn:length(dashboardBean.retards) >0 }">
                                                 <h:form>
	                                                 <p:dataTable paginator="true" rows="5" value="#{dashboardBean.retards}" var="r">
							                              <f:facet name="header">
													         <h:outputText value="Liste Des Retards " />
												         </f:facet>
												          <p:column style="width:80px;">
															<f:facet name="header">
																<h:outputText value="N° Session" />
															</f:facet>
															<h:outputText value="#{r.sessionEtudiant.idSession}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="Nom" />
															</f:facet>
															<h:outputText value="#{r.etudiant.nomEtudiant}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="prénom" />
															</f:facet>
															<h:outputText value="#{r.etudiant.prenomEtudiant}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="De" />
															</f:facet>
															<h:outputText value="#{r.startDate}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="A" />
															</f:facet>
															<h:outputText value="#{r.endDate}" />
														</p:column>
							                          </p:dataTable> 
						                          </h:form>
							                    </c:if>
							                    <!-- exception retard not found -->
							                    <c:if test="#{not empty dashboardBean.retardNotFoundException}">
							                    <p style="color:red">
							                      #{dashboardBean.retardNotFoundException}
							                    </p>
							                    </c:if>
                                              </div>
							               
                                          </section>
                                      </div>                      
                                      <!-- end Bar sessions en cours -->
                                      <div class="col-lg-6">
                                          <section class="panel">
                                              <header class="panel-heading">
                                                  Absence
                                              </header>
                                              <div class="panel-body text-center">
                                               <c:if test="#{fn:length(dashboardBean.absences) >0 }">
                                                  <h:form>
	                                                 <p:dataTable paginator="true" rows="5" value="#{dashboardBean.absences}" var="r">
							                              <f:facet name="header">
													         <h:outputText value="Liste Des Absences " />
												         </f:facet>
												          <p:column style="width:80px;">
															<f:facet name="header">
																<h:outputText value="N° Session" />
															</f:facet>
															<h:outputText value="#{r.sessionEtudiant.idSession}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="Nom" />
															</f:facet>
															<h:outputText value="#{r.etudiant.nomEtudiant}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="prénom" />
															</f:facet>
															<h:outputText value="#{r.etudiant.prenomEtudiant}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="De" />
															</f:facet>
															<h:outputText value="#{r.startDate}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="A" />
															</f:facet>
															<h:outputText value="#{r.endDate}" />
														</p:column>
							                          </p:dataTable> 
						                          </h:form>
							                </c:if>
							                 <!-- exception absence not found -->
							                <c:if test="#{not empty dashboardBean.absenceNotFoundException}">
							                  <p style="color:red"> #{dashboardBean.absenceNotFoundException}</p>
							                 </c:if>
                                              </div>
                                          </section>
                                      </div>
                                  </div>
                                  <div class="row">
                                      <!-- Radar -->
                                      <div class="col-lg-6">
                                          <section class="panel">
                                              <header class="panel-heading">
                                                  Entretien
                                              </header>
                                              <div class="panel-body text-center">
                                              <c:if test="#{fn:length(dashboardBean.entretiens) >0 }">
                                                 <h:form>
	                                                 <p:dataTable paginator="true" rows="5" value="#{dashboardBean.entretiens}" var="r">
							                              <f:facet name="header">
													         <h:outputText value="Liste Des Entretiens " />
												         </f:facet>
												          <p:column style="width:80px;">
															<f:facet name="header">
																<h:outputText value="N° Session" />
															</f:facet>
															<h:outputText value="#{r.sessionEtudiant.idSession}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="Nom" />
															</f:facet>
															<h:outputText value="#{r.etudiant.nomEtudiant}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="prénom" />
															</f:facet>
															<h:outputText value="#{r.etudiant.prenomEtudiant}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="De" />
															</f:facet>
															<h:outputText value="#{r.startDate}" />
														</p:column>
														<p:column style="width:100px;">
															<f:facet name="header">
																<h:outputText value="A" />
															</f:facet>
															<h:outputText value="#{r.endDate}" />
														</p:column>
							                          </p:dataTable> 
						                          </h:form>
							                </c:if>
							               <!-- exception entretien not found -->
							                <c:if test="#{not empty dashboardBean.entretienNotFoundException}">
							               <p style="color:red">
							                   #{dashboardBean.entretienNotFoundException}
							                </p>
							                </c:if>
                                              </div>
                                          </section>
                                      </div>
                                      <!-- Polar Area -->
                                      <div class="col-lg-6">
                                          <section class="panel">
                                              <header class="panel-heading">
                                                  Polar Area
                                              </header>
                                              <div class="panel-body text-center">
                                                  <canvas id="polarArea" height="300" width="400"></canvas>
                                              </div>
                                          </section>
                                      </div>
                                  </div>
                                  <div class="row">
                                      
                                      <!-- Pie -->
                                      <div class="col-lg-6">
                                          <section class="panel">
                                              <header class="panel-heading">
                                                  Pie
                                              </header>
                                              <div class="panel-body text-center">
                                                  <canvas id="pie" height="300" width="400"></canvas>
                                              </div>
                                          </section>
                                      </div>
                                      <!-- Doughnut -->
                                      <div class="col-lg-6">
                                          <section class="panel">
                                              <header class="panel-heading">
                                                  Doughnut
                                              </header>
                                              <div class="panel-body text-center">
                                                  <canvas id="doughnut" height="300" width="400"></canvas>
                                              </div>
                                          </section>
                                      </div>
                                  </div>
                            </div>
                      </div>
                  </section>
              </div>
          </div>
       </section>
    </div>
</ui:composition>
</html>