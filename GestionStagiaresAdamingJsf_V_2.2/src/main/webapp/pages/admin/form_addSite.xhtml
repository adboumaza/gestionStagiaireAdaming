
 <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">

<ui:composition>
	<br> </br>
	<br> </br>
	<br> </br>

	<div class="well container">
		  <p:growl id="growl" showDetail="true" life="5000" severity="info,warn" /> 
		 <!-- Form validations -->  
		 <section class="wrapper">
		  <div class="row">
				<div class="col-lg-12">
					<ol class="breadcrumb">
						<h3 class="page-header"><i><h:graphicImage name="NiceAdmin/img/form.png"/> </i> Form Site</h3>
					</ol>
				</div>
			</div>            
              <div class="row">
                  <div class="col-lg-12">
                      <section class="panel">
                          <header class="panel-heading">
                              Ajouter Un Site
                          </header>
                          <div class="panel-body">
                              <div class="form">
                                  <h:form class="form-validate form-horizontal">
                                     
                                      <div class="form-group ">
                                          <label for="cname" class="control-label col-lg-2">Nom du Site <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText  value="#{siteBean.nomSite}" class="form-control" id="cname"  type="text">
                                                  <f:validateRegex pattern="[a-z A-ZÉéè 0-9]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                          <h:message for="cname" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="adresse" class="control-label col-lg-2">Adresse <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText value="#{siteBean.adresse}" class="form-control" id="adresse"  type="text">
                                                  <f:validateRegex pattern="[a-z A-ZÉéè 0-9]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                          <h:message for="adresse" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      
                                       <div class="form-group ">
                                          <label for="codePostal" class="control-label col-lg-2">Code Postal <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                               <p:inputMask onkeypress="if (event.keyCode == 13) { onchange(); return false; }"  styleClass="form-control"  id="codePostal" value="#{siteBean.codePostal}"  mask="99999">
                                                   <f:ajax render="ville pays" event="change" listener="#{siteBean.getVillesByCp(siteBean.codePostal)}" />
                                               </p:inputMask>
                                          </div>
                                           <h:message for="codePostal" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                     
                                      <div class="form-group ">
                                          <label for="ville" class="control-label col-lg-2">Ville <span class="required">*</span></label>
                                          <div class="col-lg-10">
											   <p:selectOneMenu id="ville" filter="true"
											    filterMatchMode="startsWith" 
											    value="#{siteBean.ville}">
											        <f:selectItem itemLabel="Select One" itemValue=""
											             noSelectionOption="true" />
											        <f:selectItems value="#{siteBean.villes}" var="f" itemValue="#{f.name}" itemLabel="#{f.name}"></f:selectItems>
											   </p:selectOneMenu>
                                          </div>
                                          <h:message for="ville" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      
                                     
                                      
                                      
                                      <div class="form-group ">
                                          <label for="pays" class="control-label col-lg-2">Pays <span class="required">*</span></label>
                                          <div class="col-lg-10">
											   <p:selectOneMenu id="pays" filter="true"
											    filterMatchMode="startsWith" 
											    value="#{siteBean.pays}">
											        <f:selectItem itemLabel="Select One" itemValue=""
											             noSelectionOption="true" />
											        <f:selectItems value="#{siteBean.villes}" var="f" itemValue="#{f.countryName}" itemLabel="#{f.countryName}"></f:selectItems>
											   </p:selectOneMenu>
                                          </div>
                                         <h:message for="pays" style="color:red;text-align:center;display:block"></h:message>
                                      </div>           
                   
                                      <div class="form-group">
                                          <div class="col-lg-offset-2 col-lg-10">
                                              <h:commandButton action="#{siteBean.addSite}" value="Save" class="btn btn-primary"/>
                                          </div>
                                      </div>
                                  </h:form>
                              </div>
                          </div>
                      </section>
                  </div>
              </div>
          </section>
	</div>
</ui:composition>
</html>