<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition>
	<br> </br>
	<br> </br>
	<br> </br>
	<div class="well container">
	
		<h:form id="form">
		    <br/>
			<div class="inputpersso">
				<p:outputLabel for="session" value="Session(En Cours):"
					styleClass="paddingTop20" />
				<br />
				<p:selectOneMenu id="session" required="true"
					required-message="Veuillez Rensiegnez la Session SVP!!"
					renderLabel="true" value="#{examenBean.idSession}">
					<f:selectItem itemLabel="Sélectionnez Une Session En Cours"
						itemValue="#{null}" />
					<f:selectItems value="#{examenBean.sessionEnCours}" var="s"
						itemLabel="Session N°:#{s.idSession}, #{s.specialite.designation},Lieu : #{s.lieu}, Début:#{s.dateDebute}"
						itemValue="#{s.idSession}" />
						<p:ajax event="valueChange" update="etudiant" 
							listener="#{examenBean.getAllStudentsBySession}"/>
				</p:selectOneMenu>
				<br />
				<h:message for="session" />
				<br></br>
				<p:outputLabel for="etudiant" value="Etudiant:"
					styleClass="paddingTop20" />
				<br />
		
				<p:selectOneMenu id="etudiant" required="true"
					required-message="Veuillez Selectionnez Votre Nom SVP!!"
					renderLabel="true" value="#{examenBean.idEtudiant}">
					<f:selectItem itemLabel="Selectionnez Votre Nom SVP"
						itemValue="#{null}" noSelectionOption="true"  />
					<f:selectItems value="#{examenBean.etudiantsBySession}" var="e"
						itemLabel="#{e.nomEtudiant}, #{e.prenomEtudiant}"
						itemValue="#{e.idEtudiant}" />
					<p:ajax event="valueChange" update="module, exception"
							listener="#{examenBean.getAllModulesBySession}" render="module, exception" />
						
				</p:selectOneMenu>
				<br />
				<h:message for="etudiant" />
				<br></br>
				<h:outputText id="exception" style="color:red" value="#{examenBean.addExamException}"/>
				<br></br>
				<p:outputLabel for="module" value="Module:"
					styleClass="paddingTop20" />
				<br />
				<p:selectOneMenu id="module" required="true"
					required-message="Veuillez Rensiegnez la Session SVP!!"
					renderLabel="true" value="#{examenBean.idModule}">
					<f:selectItem itemLabel="Sélectionnez Un Module"
						itemValue="#{null}" noSelectionOption="true"/>
					<f:selectItems value="#{examenBean.moduleBySessions}" var="m"
						itemLabel="#{m.nomModule}" itemValue="#{m.idModule}" />
				    <p:ajax event="valueChange" 
							listener="#{examenBean.getAllQuestionByModule}" />
				</p:selectOneMenu>
				<br />
				<h:message for="module" />
				<br></br>
				<h:commandButton action="#{examenBean.goStartExamen}"
					value="Start" styleClass="btn btn-info btn-lm"/>
				
			</div>
			<br />
			<br />
			<br />
			<br />
		</h:form>
	
	</div>
</ui:composition>
</html>