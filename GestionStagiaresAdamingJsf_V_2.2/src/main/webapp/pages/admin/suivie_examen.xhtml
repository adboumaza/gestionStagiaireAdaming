<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">


<h:head>
	<title>Suivi Examens</title>
	<f:facet name="middle">
		<h:outputStylesheet name="NiceAdmin/css/bootstrap.min.css" />
		<h:outputStylesheet name="NiceAdmin/css/bootstrap-theme.css" />
		<h:outputStylesheet name="NiceAdmin/css/style.css" />
		<h:outputStylesheet name="NiceAdmin/css/style-responsive.css" />
		<h:outputStylesheet name="NiceAdmin/css/elegant-icons-style.css" />
		<h:outputStylesheet name="NiceAdmin/css/font-awesome.min.css" />
		<h:outputScript library="primefaces" name="jquery/jquery.js" />
		<h:outputScript name="NiceAdmin/js/bootstrap.js" />
		<h:outputScript name="NiceAdmin/js/jquery.scrollTo.min.js" />
		<h:outputScript name="NiceAdmin/js/jquery.nicescroll.js" />
		<h:outputScript name="NiceAdmin/js/jquery.customSelect.min.js" />
		<h:outputScript name="NiceAdmin/js/scripts.js" />
	</f:facet>
</h:head>
<h:body style="background:#f7f7f7">
	<ui:include src="header.xhtml"></ui:include>
	
	<!-- sidebar menu start-->
	<aside class="aside">
          <div id="sidebar"  class="nav-collapse ">
              <ul class="sidebar-menu">              
                  <li>
                      <h:link outcome="dashboard">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone1.png"/></i>
                          <span style="line-height:36px">Dashboard</span>
                      </h:link>
                  </li>
                   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone2.png"/></i>
                          <span style="line-height:36px">Reporting</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{agendaBean.init}" value="Programme semaine"/> </h:form></li> 
                          <li><h:form><h:commandLink action="#{suivieCollaboratifBean.init}" value="Suivi-Collaboratif"/> </h:form></li> 
                          <li><h:form><h:commandLink action="#{reportingBean.init}" value="Reporting"/> </h:form></li> 
                          <li><h:link outcome="admin">Ajouter Un Admin</h:link></li>   
                      </ul>
                     
                   </li> 
				   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone3.png"/></i>
                          <span style="line-height:36px">Cursus</span>
                      </a>
                      <ul class="sub">
                          <li><h:link outcome="specialite">Ajouter Un Cursus</h:link></li>     
                      </ul>
                   </li> 
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone4.png"/></i>
                          <span style="line-height: 36px">Session</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{sessionBean.resetAndRedirect}" value="Ajouter Une Session"/> </h:form></li> 
                      </ul>
                  </li>
                   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone5.png"/></i>
                          <span style="line-height:36px">Modules</span>
                      </a>
                      <ul class="sub">
                         <li><h:form><h:commandLink action="#{moduleBean.resetAndRedirect}" value="Ajouter Un Module"/> </h:form></li> 
                         <li><h:form><h:commandLink action="#{moduleBean.resetQuestionAndRedirect}" value="Ajouter Un QCM"/> </h:form></li>                                         
                      </ul>
                  </li>  
                  
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage height="36px" width="36px" name="NiceAdmin/img/icons/icone6.png"/></i>
                          <span style="line-height:36px">Gestion Sites</span>
                      </a>
                      <ul class="sub">
                         <li><h:form><h:commandLink action="#{siteBean.resetAndRedirect}" value="Ajouter Un Site"/> </h:form></li>
                         <li><h:form><h:commandLink action="#{siteBean.getAll}" value="Liste des Sites"/> </h:form></li> 
                         <li><h:form><h:commandLink action="#{salleBean.resetAndRedirect}" value="Ajouter Une Salle"/> </h:form></li> 
                         <li><h:form><h:commandLink action="#{salleBean.getAllSalle}" value="Liste des Salles"/> </h:form></li>                                                                
                      </ul>
                  </li>       
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone7.png"/></i>
                          <span style="line-height:36px">Etudiant</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{etudiantBean.resetAndRedirect}" value="Ajouter Un Etudiant"/> </h:form></li> 
                          <li><h:form><h:commandLink action="#{etudiantBean.initListeEtudiant}" value="Liste des Etudiants"/> </h:form></li>   
                      </ul>
                  </li> 
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone8.png"/></i>
                          <span style="line-height:36px">Formateur</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{formateurBean.init}" value="Ajouter Un Formateur"/> </h:form>  </li>  
                          <li><h:form><h:commandLink action="#{affectationFormateurBean.initAndRedirect}" value="Affecter  Un Formateur"/> </h:form>  </li>
                          <li><h:form><h:commandLink action="#{affectationFormateurBean.getAllFormateurs}" value="Formateurs"/> </h:form>  </li>
                      </ul>
                  </li>           
                  <li class="sub-menu active">
                      <a href="javascript:;" class="" style="border-right:none!important">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone9.png"/></i>
                          <span style="line-height:36px">Notes</span>
                          <span style="float:right; width: 0;height: 0;border-style: solid;border-width: 15px 15px 15px 0;border-color: transparent #f7f7f7 transparent transparent;"></span>
                      </a>
                      <ul class="sub">
                            <li><h:form><h:commandLink action="#{suivieExamenBean.init}" value="Suivi Examens"/> </h:form>  </li>
                      </ul>
                  </li>        
                  
              </ul>
              <!-- sidebar menu end-->
             
          </div>
      </aside>
      <!--sidebar end-->
	
    <!--main content start-->

	 <p:dialog widgetVar="dlg2" width="75%" modal="true" height="490px">
              <div class="sk-circle">
			  <div class="sk-circle1 sk-child"></div>
			  <div class="sk-circle2 sk-child"></div>
			  <div class="sk-circle3 sk-child"></div>
			  <div class="sk-circle4 sk-child"></div>
			  <div class="sk-circle5 sk-child"></div>
			  <div class="sk-circle6 sk-child"></div>
			  <div class="sk-circle7 sk-child"></div>
			  <div class="sk-circle8 sk-child"></div>
			  <div class="sk-circle9 sk-child"></div>
			  <div class="sk-circle10 sk-child"></div>
			  <div class="sk-circle11 sk-child"></div>
			  <div class="sk-circle12 sk-child"></div>
			</div>
       </p:dialog>
	<section id="main-content">
		<section class="wrapper">
			<div class="row">
				<div class="col-lg-12" style="width: 95%;margin: auto">
					<h3 class="page-header">
						<h:graphicImage name="NiceAdmin/img/icons/icone2-1.png"/>
						<span style="color:#00a19a;line-height: 50px;">Suivi Examens</span>
					</h3>
				</div>
			</div>
		</section>
				
				<div class="col-lg-12">
					<section class="panel" style="width: 95%;margin: auto">
						 <header class="panel-heading">
                            
                          </header>
						<div class="panel-body">
							
							<div class="panel-body text-center">
								<h:form>
								    <p:messages id="messages" showDetail="true" autoUpdate="true"
										closable="true" />
									<p:growl id="growl" showDetail="true" showSummary="true" autoUpdate="true" severity="warn,info"></p:growl>
									<div class="form-group ">
										<label for="session" class="control-label col-lg-2">Sessions 
											 <span class="required">*</span>
										</label>
										<div class="col-lg-10">
											<h:selectOneMenu
												style="cursor:pointer;height:35px;width:75%;color:#797979;font-size:16px;"
												styleClass="selectpicker" 
												
												value="#{suivieExamenBean.idSession}">
												<f:selectItem itemDisabled="true"
													itemLabel="-------------------------------------------Sélectionnez une session-------------------------------------------"
													itemValue="#{null}" noSelectionOption="true" />
												<f:selectItems value="#{suivieExamenBean.allSessions}"
													var="s"
													itemLabel="Session N°:#{s[0]}, #{s[1]}, Début:#{s[2]},Site : #{s[4]}"
													itemValue="#{s[0]}" />
												<f:ajax event="valueChange"
													listener="#{suivieExamenBean.getModulesBySession}"
													render=":form20:tabModule"></f:ajax>
											</h:selectOneMenu>
										</div>
										
									</div>
									
								</h:form>
							</div>
						</div>
					</section>
				</div>
				<div class="col-lg-12">
					<section class="panel" style="width: 95%;margin: auto">
							<div class="panel-body text-center">
							  
								<h:form id="form20">
									<p:dataTable id="tabModule" value="#{suivieExamenBean.modules}"
										var="m" >
										
										<p:column headerText="Module">
										     
											<h:commandButton  id="fade" onclick="PF('dlg2').show();" rendered="#{m[2]}" action="#{suivieExamenBean.getNotesByModulesAndSession(m[3],m[0])}" value="#{m[1]}"  style="border-radius: 2px!important" styleClass="btn btn-primary btn-lg btn-block">
											  <p:tooltip style="color:red;padding:10px!important;background:white!important;border-radius:2px!important;" id="toolTipFade" for="fade" value="Voir la liste des notes" position="bottom"/>
											 
											</h:commandButton>
											<h:outputText rendered="#{not m[2]}" value="#{m[1]}"></h:outputText>
										   
										</p:column>
										
										
										<p:column headerText="Statut">
											
											<p:spacer width="10"></p:spacer>
											<h:graphicImage rendered="#{m[2]}"
												name="NiceAdmin/img/check.png">
												
											   <h:outputText value="Validée" style="padding-right : 10px"></h:outputText>
											</h:graphicImage>
											<h:graphicImage rendered="#{not m[2]}">
												<div id="fountainG" style="display: inline-block !important">
													<h:outputText value="En Cours" style="margin-left : 20px"></h:outputText>
													<div id="fountainG_1" class="fountainG"></div>
													<div id="fountainG_2" class="fountainG"></div>
													<div id="fountainG_3" class="fountainG"></div>
												</div>
											</h:graphicImage>
										</p:column>
										<p:column headerText="Classement">
								            <p:commandButton rendered="#{m[2]}" action="#{suivieExamenBean.getClassementGeneral(m[3],m[0])}" process="tabModule"  icon="ui-icon-search" value="Voir le classement des étudiants" onclick="PF('dlg2').show();"/>
								            <h:graphicImage rendered="#{not m[2]}">
												<div id="fountainG" style="display: inline-block !important">
													<h:outputText value="En Cours" style="margin-left : 20px"></h:outputText>
													<div id="fountainG_1" class="fountainG"></div>
													<div id="fountainG_2" class="fountainG"></div>
													<div id="fountainG_3" class="fountainG"></div>
												</div>
											</h:graphicImage>
								        </p:column>
										
									</p:dataTable>
								</h:form>
								
							</div>
					</section>
				</div>
			<br></br>
	</section>
</h:body>
</html>