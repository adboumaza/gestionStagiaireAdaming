<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
    xmlns:pe="http://primefaces.org/ui/extensions">


<h:head>
	<title>Gestion Etudiant</title>
	<f:facet name="middle">
		<h:outputStylesheet name="NiceAdmin/css/bootstrap.min.css" />
		<h:outputStylesheet name="NiceAdmin/css/bootstrap-theme.css" />
		<h:outputStylesheet name="NiceAdmin/css/style.css" />
		<h:outputStylesheet name="NiceAdmin/css/style-responsive.css" />
		<h:outputStylesheet name="NiceAdmin/css/elegant-icons-style.css" />
		<h:outputStylesheet name="NiceAdmin/css/font-awesome.min.css" />
		<h:outputScript library="primefaces" name="jquery/jquery.js" />
		<h:outputScript name="NiceAdmin/js/bootstrap.js" />
		<h:outputScript name="NiceAdmin/js/jquery.scrollTo.min.js" />
		<h:outputScript name="NiceAdmin/js/jquery.nicescroll.js" />
		<h:outputScript name="NiceAdmin/js/jquery.customSelect.min.js" />
		<h:outputScript name="NiceAdmin/js/scripts.js" />
	</f:facet>
</h:head>
<h:body style="background:#f7f7f7">
	<ui:include src="header.xhtml"></ui:include>
	
	<!-- sidebar menu start-->
	<aside class="aside">
          <div id="sidebar"  class="nav-collapse ">
              <ul class="sidebar-menu">              
                  <li>
                      <h:link outcome="dashboard">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone1.png"/></i>
                          <span style="line-height:36px">Dashboard</span>
                      </h:link>
                  </li>
                   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone2.png"/></i>
                          <span style="line-height:36px">Reporting</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{agendaBean.init}" value="Programme semaine"/> </h:form></li> 
                          <li><h:form><h:commandLink action="#{suivieCollaboratifBean.init}" value="Suivi-Collaboratif"/> </h:form></li> 
                          <li><h:form><h:commandLink action="#{reportingBean.init}" value="Reporting"/> </h:form></li> 
                          <li><h:link outcome="admin">Ajouter Un Admin</h:link></li>   
                      </ul>
                     
                   </li> 
				   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone3.png"/></i>
                          <span style="line-height:36px">Cursus</span>
                      </a>
                      <ul class="sub">
                          <li><h:link outcome="specialite">Ajouter Un Cursus</h:link></li>     
                      </ul>
                   </li> 
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone4.png"/></i>
                          <span style="line-height: 36px">Session</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{sessionBean.resetAndRedirect}" value="Ajouter Une Session"/> </h:form></li> 
                      </ul>
                  </li>
                   <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone5.png"/></i>
                          <span style="line-height:36px">Modules</span>
                      </a>
                      <ul class="sub">
                         <li><h:form><h:commandLink action="#{moduleBean.resetAndRedirect}" value="Ajouter Un Module"/> </h:form></li> 
                         <li><h:form><h:commandLink action="#{moduleBean.resetQuestionAndRedirect}" value="Ajouter Un QCM"/> </h:form></li>                                         
                      </ul>
                  </li>  
                  
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage height="36px" width="36px" name="NiceAdmin/img/icons/icone6.png"/></i>
                          <span style="line-height:36px">Gestion Sites</span>
                      </a>
                      <ul class="sub">
                         <li><h:form><h:commandLink action="#{siteBean.resetAndRedirect}" value="Ajouter Un Site"/> </h:form></li>
                         <li><h:form><h:commandLink action="#{siteBean.getAll}" value="Liste des Sites"/> </h:form></li> 
                         <li><h:form><h:commandLink action="#{salleBean.resetAndRedirect}" value="Ajouter Une Salle"/> </h:form></li> 
                         <li><h:form><h:commandLink action="#{salleBean.getAllSalle}" value="Liste des Salles"/> </h:form></li>                                                                
                      </ul>
                  </li>       
                  <li class="sub-menu active">
                      <a href="javascript:;" class="" style="border-right:none!important">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone7.png"/></i>
                          <span style="line-height:36px">Etudiant</span>
                          <span style="float:right; width: 0;height: 0;border-style: solid;border-width: 15px 15px 15px 0;border-color: transparent #f7f7f7 transparent transparent;"></span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{etudiantBean.resetAndRedirect}" value="Ajouter Un Etudiant"/> </h:form></li> 
                          <li><h:form><h:commandLink action="#{etudiantBean.initListeEtudiant}" value="Liste des Etudiants"/> </h:form></li>   
                      </ul>
                  </li> 
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone8.png"/></i>
                          <span style="line-height:36px">Formateur</span>
                      </a>
                      <ul class="sub">
                          <li><h:form><h:commandLink action="#{formateurBean.init}" value="Ajouter Un Formateur"/> </h:form>  </li>  
                          <li><h:form><h:commandLink action="#{affectationFormateurBean.initAndRedirect}" value="Affecter  Un Formateur"/> </h:form>  </li>
                          <li><h:form><h:commandLink action="#{affectationFormateurBean.getAllFormateurs}" value="Formateurs"/> </h:form>  </li>
                      </ul>
                  </li>           
                  <li class="sub-menu">
                      <a href="javascript:;" class="">
                          <i><h:graphicImage width="36" height="36" name="NiceAdmin/img/icons/icone9.png"/></i>
                          <span style="line-height:36px">Notes</span>
                      </a>
                      <ul class="sub">
                            <li><h:form><h:commandLink action="#{suivieExamenBean.init}" value="Suivi Examens"/> </h:form>  </li>
                      </ul>
                  </li>        
                  
              </ul>
              <!-- sidebar menu end-->
             
          </div>
      </aside>
      <!--sidebar end-->
	
    <!--main content start-->
	<section id="main-content">
		<section class="wrapper">
			<div class="row">
				<div class="col-lg-12" style="width: 97%;margin: auto">
					<h3 class="page-header">
						<h:graphicImage name="NiceAdmin/img/icons/icone2-1.png"/>
						<span style="color:#00a19a;line-height: 50px;">Form Ajouter Un Etudiant</span>
					</h3>
				</div>
			</div>
                  <div class="col-lg-12">
                      <section class="panel" style="width: 97%;margin: auto">
                          <header class="panel-heading">
                          
                          </header>
                          <div class="panel-body">
                              <div class="form">
                                  <h:form class="form-validate form-horizontal">
                                       <p:growl id="growler" showDetail="true" life="2000"  severity="info,warn" />
                                       <p:messages id="messages" showDetail="true"  severity="info" closable="true" /> 
                                      <div class="form-group ">
                                          <label for="session" class="control-label col-lg-2">Session (En Cours) <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:selectOneMenu required="true" requiredMessage="la session est Obligatoire" id="session" style="cursor:pointer;height:35px;width:75%;color:#797979;font-size:16px;" styleClass="selectpicker" value="#{etudiantBean.idSession}">
												<f:selectItem itemDisabled="true" itemLabel="-------------------------------------------Sélectionnez une session-------------------------------------------"
													itemValue="#{null}" noSelectionOption="true" />
											     <f:selectItems value="#{etudiantBean.sessionsEncours}" var="s"
													itemLabel="Session N°:#{s[0]}, #{s[1]}, Début:#{s[2]},Site : #{s[4]}"
													itemValue="#{s[0]}" />
											</h:selectOneMenu>
                                          </div>
                                           <h:message for="session" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="nom" class="control-label col-lg-2">Nom <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText validatorMessage="le format n'est pas valide" maxlength="30" value="#{etudiantBean.nomEtudiant}" class="form-control" id="nom"  type="text">
                                                 <f:validateRegex pattern="[a-z A-Zéèàâãäæçêë]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                            <h:message for="nom" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="prenom" class="control-label col-lg-2">Prénom <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText validatorMessage="le format n'est pas valide"  maxlength="30" value="#{etudiantBean.prenomEtudiant}" class="form-control" id="prenom"  type="text">
                                                 <f:validateRegex pattern="[a-z A-Zéèàâãäæçêë]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                         <h:message for="prenom" style="color:red;text-align:center;display:block"></h:message>
                                          
                                      </div>
                                      <div class="form-group ">
                                          <label for="adresse" class="control-label col-lg-2">Adresse <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText validatorMessage="le format n'est pas valide" maxlength="100"  value="#{etudiantBean.adressePostal}" class="form-control" id="adresse"  type="text">
                                                  <f:validateRegex pattern="[a-z A-ZÉéèàâãäæçêë' 0-9]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                          <h:message for="adresse" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="codePostal" class="control-label col-lg-2">Code Postal <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                               <p:inputMask onkeypress="if (event.keyCode == 13) { onchange(); return false; }"  styleClass="form-control"  id="codePostal" value="#{etudiantBean.codePostal}" mask="99999">
                                                   <f:ajax render="ville pays" event="change" listener="#{etudiantBean.getVillesByCp(etudiantBean.codePostal)}" />
                                               </p:inputMask>
                                          </div>
                                           <h:message for="codePostal" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="ville" class="control-label col-lg-2">Ville <span class="required">*</span></label>
                                          <div class="col-lg-10">
											   <p:autoComplete  placeholder="ex : Paris"  value="#{etudiantBean.ville}" completeMethod="#{etudiantBean.getVillesFiltred}"  id="ville" scrollHeight="400" />
                                          </div>
                                          <h:message for="ville" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="pays" class="control-label col-lg-2">Pays <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                               <p:autoComplete  placeholder="ex : France" value="#{etudiantBean.pays}" completeMethod="#{etudiantBean.getPaysData}"  id="pays" scrollHeight="400" forceSelection="true" />
                                          </div>
                                         <h:message for="pays" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                       
                                      <div class="form-group ">
                                          <label for="telMobile" class="control-label col-lg-2">Tél <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                               <p:inputMask styleClass="form-control"   id="telMobile" value="#{etudiantBean.numTel}" mask="(99) 99-99-99-99"/>
                                          </div>
                                           <h:message for="telMobile" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="mail" class="control-label col-lg-2">Mail <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText   value="#{etudiantBean.mail}" class="form-control" id="mail"  type="text">
                                                 <f:validator binding="#{emailValidator}" />
                                              </h:inputText>
                                          </div>
                                           <h:message for="mail" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="dateDeNaissance" class="control-label col-lg-2">Date De Naissance <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <p:calendar styleClass="calendar" id="dateDeNaissance" yearRange="c-40:c+0" locale="fr" lang="fr"
												value="#{etudiantBean.dateDeNaissance}" effect="fold"  navigator="true" />
                                          </div>
                                          <h:message for="dateDeNaissance" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="FormationInitial" class="control-label col-lg-2">Formation Initiale <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText  validatorMessage="le format n'est pas valide"  value="#{etudiantBean.formationInitial}"  class="form-control" id="FormationInitial"  type="text">
                                                <f:validateRegex pattern="[a-z A-Zéèàâãäæçêë]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                          <h:message for="FormationInitial" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="ecole" class="control-label col-lg-2">Ecole <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText validatorMessage="le format n'est pas valide" value="#{etudiantBean.ecole}" class="form-control" id="ecole"  type="text" >
                                                  <f:validateRegex pattern="[a-z A-Zéèàâãäæçêë]+$"></f:validateRegex>
                                              </h:inputText>
                                          </div>
                                          <h:message for="ecole" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group ">
                                          <label for="dateObtention" class="control-label col-lg-2">Année d'obtention du diplôme<span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <p:calendar yearRange="c-10:c+0" styleClass="calendar" id="dateObtention" lang="fr" locale="fr" pattern="MM.yyyy"
												value="#{etudiantBean.dateObtention}" effect="fold"  navigator="true" />
                                          </div>
                                          <h:message for="dateObtention" style="color:red;text-align:center;display:block"></h:message>
                                      </div>
                                      <div class="form-group">
                                          <div class="col-lg-offset-2 col-lg-10">
                                              <h:commandButton action="#{etudiantBean.addEtudiant}" update="@form" value="Ajouter" class="btn btn-primary"/>
                                          </div>
                                      </div>
                                  </h:form>
                              </div>
                          </div>
                      </section>
                  </div>
         </section>
	</section>
   <SCRIPT type="text/javascript">
	                PrimeFaces.locales ['fr'] = { closeText: 'Fermer', prevText: 'Précédent', nextText: 'Suivant', monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre' ], monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc' ], dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'], dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'], dayNamesMin: ['D', 'L', 'M', 'M', 'J', 'V', 'S'], weekHeader: 'Semaine', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix:'', timeOnlyTitle: 'Choisir l\'heure', timeText: 'Heure', hourText: 'Heures', minuteText: 'Minutes', secondText: 'Secondes', currentText: 'Maintenant', ampm: false, month: 'Mois', week: 'Semaine', day: 'Jour', allDayText: 'Toute la journée' };
	                                     
	           </SCRIPT>
</h:body>
</html>