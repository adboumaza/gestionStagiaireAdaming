
 <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">

<ui:composition>
	<br> </br>
	<br> </br>
	<br> </br>

	<div class="well container">
		 <p:dialog widgetVar="dlg2" width="75%" modal="true" height="490px">
	              <div class="sk-circle">
				  <div class="sk-circle1 sk-child"></div>
				  <div class="sk-circle2 sk-child"></div>
				  <div class="sk-circle3 sk-child"></div>
				  <div class="sk-circle4 sk-child"></div>
				  <div class="sk-circle5 sk-child"></div>
				  <div class="sk-circle6 sk-child"></div>
				  <div class="sk-circle7 sk-child"></div>
				  <div class="sk-circle8 sk-child"></div>
				  <div class="sk-circle9 sk-child"></div>
				  <div class="sk-circle10 sk-child"></div>
				  <div class="sk-circle11 sk-child"></div>
				  <div class="sk-circle12 sk-child"></div>
				</div>
	        </p:dialog>
	     <iframe style="display:none" onload="geocode()" src="http://www.w3schools.com"></iframe>
		  <p:growl id="growl" showDetail="true" life="5000" /> 
		 <!-- Form validations -->  
		 <section class="wrapper">
		  <div class="row">
				<div class="col-lg-12">
					<ol class="breadcrumb">
						<h3 class="page-header"><i><h:graphicImage name="NiceAdmin/img/form.png"/> </i>Information Site #{siteBean.site.nomSite}</h3>
					</ol>
				</div>
			</div>            
              <div class="row">
                  <div class="col-lg-12">
                      <section class="panel">
                          <header class="panel-heading">
                              Information Site
                          </header>
                          <div class="panel-body">
                              <div class="form">
                                  <h:form id="form20" class="form-validate form-horizontal">
                                      <div class="form-group ">
                                          <label for="numero" class="control-label col-lg-2">Num√©ro Site <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText disabled="true" value="#{siteBean.site.idSite}" class="form-control" id="numero"  type="text" />
                                          </div>                                         
                                      </div>
                                      <div class="form-group ">
                                          <label for="cname" class="control-label col-lg-2">Nom du Site <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText disabled="true" value="#{siteBean.site.nomSite}" class="form-control" id="cname"  type="text" />
                                          </div>                                         
                                      </div>
                                      <div class="form-group ">
                                          <label for="adresse" class="control-label col-lg-2">Adresse <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText disabled="true" value="#{siteBean.site.adresse.adresse}" class="form-control" id="adresse"  type="text" />
                                          </div>
                                          
                                      </div>
                                      <div class="form-group ">
                                          <label for="ville" class="control-label col-lg-2">Ville <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText disabled="true" value="#{siteBean.site.adresse.ville}" class="form-control" id="ville"  type="text" />
                                          </div>
                                         
                                      </div>
                                      <div class="form-group ">
                                          <label for="codePostal" class="control-label col-lg-2">Code Postal <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                               <p:inputText disabled="true" styleClass="form-control"  id="codePostal" value="#{siteBean.site.adresse.codePostal}"/>
                                          </div>
                                          
                                      </div>
                                      
                                      <div class="form-group ">
                                          <label for="pays" class="control-label col-lg-2">Pays <span class="required">*</span></label>
                                          <div class="col-lg-10">
                                              <h:inputText disabled="true" value="#{siteBean.site.adresse.pays}" class="form-control" id="pays"  type="text" />
                                          </div>
                                      </div>
                                      <div class="form-group ">
                                          <label  class="control-label col-lg-2">Liste Salles </label>
                                          <div class="col-lg-10">
                                               <h:commandButton onclick="PF('dlg2').show();" action="#{siteBean.getAllSallesBySite(siteBean.site.idSite)}" value="Voir la liste des Salles du Site #{siteBean.site.nomSite}" class="btn btn-danger"/>
                                          </div>
                                      </div>                
                   
                                      <div class="form-group">
                                          <div class="col-lg-offset-2 col-lg-10">
                                              <h:commandButton action="liste_sites?faces-redirect=true" value="Retour" class="btn btn-danger"/>
                                          </div>
                                      </div>
                                      
                                      <p:gmap id="geoGmap" widgetVar="geoMap" center="#{siteBean.centerGeoMap}" zoom="18" type="HYBRID" model="#{siteBean.geoModel}" style="width:100%;height:400px">
								        <p:ajax event="geocode" listener="#{siteBean.onGeocode}" update="@this" />
								      </p:gmap>
 
                                  </h:form>
                              </div>
                          </div>
                      </section>
                  </div>
	                   <script type="text/javascript">
						    function geocode() {
						    	var adrs      = document.getElementById('form20:adresse').value;
						    	var ville     = document.getElementById('form20:ville').value;
						    	var cPostal   = document.getElementById('form20:codePostal').value;
						        var pays      = document.getElementById('form20:pays').value;
						        var adrsCompl = adrs + "," + ville +" " +cPostal + "," + pays;
						        PF('geoMap').geocode(adrsCompl);
						       
						    }
	                  </script>
              </div>
          </section>
	</div>
</ui:composition>
</html>