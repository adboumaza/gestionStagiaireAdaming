<!DOCTYPE html>
<html xmlns = "http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:b = "http://bootsfaces.net/ui"
	xmlns:f = "http://java.sun.com/jsf/core"
	xmlns:h = "http://java.sun.com/jsf/html"
	xmlns:p = "http://primefaces.org/ui"
    xmlns:ui= "http://java.sun.com/jsf/facelets"
    xmlns:pe="http://primefaces.org/ui/extensions">
<h:head>
	<title>Examen Success</title>
	   <f:facet name="middle">
            <h:outputStylesheet name="NiceAdmin/css/bootstrap.min.css"/>
            <h:outputStylesheet name="NiceAdmin/css/bootstrap-theme.css"/>
            <h:outputStylesheet name="NiceAdmin/css/style.css"/>
            <h:outputStylesheet name="NiceAdmin/css/style-responsive.css"/>
            <h:outputStylesheet name="NiceAdmin/css/elegant-icons-style.css"/>
            <h:outputStylesheet name="NiceAdmin/css/font-awesome.min.css"/>
            <h:outputScript  name="NiceAdmin/js/jquery.js" />
            <h:outputScript  name="NiceAdmin/js/bootstrap.js" />
            
     </f:facet>
     <SCRIPT type="text/javascript">
    window.history.forward();
    function noBack() { window.history.forward(); }
</SCRIPT>
</h:head>
<h:body onload="noBack();"
onpageshow="if (event.persisted) noBack();" onunload="">
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
	<div class="well container">
			<div class="alert alert-info" style="text-align:center;margin-bottom:0px!important">
			   <h:graphicImage style="margin-right:10px;vertical-align: sub!important" name="NiceAdmin/img/tick.png"/> 
			   <h:outputText style="color:black" value="Merçi d'avoir passer l'examen pour Valider le Module Numéro #{examenBean.idModule} "/><br/>
			   <h:outputText style="color:red;" value="Votre Score Final est : #{examenBean.scoreFinal}"/>
			</div> 
			
			<br/><br/>
	<div class="well container">
		<h1>Resumé de vos réponses</h1>
		<br/>
		    <h:form>
		    <h:panelGroup>
				<p:dataTable id="studentTable" var="r" value="#{examenBean.reponsesSelected}">
				    <p:column headerText="N°">
				        <h:outputText value="#{r.questions.numeroQuestion}" />
				    </p:column>
				 
				    <p:column headerText="Question">
				        <h:outputText value="#{r.questions.label}" />
				    </p:column>
				 
				    <p:column headerText="Réponse">
				        <h:outputText value=" - #{r.labelReponse}" style="font-weight:bold" styleClass="goodAnswer#{r.etat}"/>
				    </p:column>
				    <p:column headerText="Point">
				        <h:outputText rendered="#{r.etat}"     value="1" />
				        <h:outputText rendered="#{not r.etat}" value="0" />
				        <h:outputText style="padding-right:10px;"></h:outputText>
				        <h:graphicImage rendered="#{r.etat}"     name="NiceAdmin/img/check.png"/> 
                        <h:graphicImage rendered="#{not r.etat}" name="NiceAdmin/img/cross.png"/> 
				    </p:column>
			        <f:facet name="footer">
			          <h:outputText value="Note Final :  #{examenBean.scoreFinal}"></h:outputText>
			        </f:facet>
				</p:dataTable>
				<br></br>
				<br></br>
				<!-- add boutton accueil -->
				<div style="text-align:center;">
					   <h:commandButton style="margin-right: 20px;" styleClass="btn btn-danger" ajax="false" action="index?faces-redirect=true" value="Retour Accueil"/>
				       <h:commandButton styleClass="btn btn-danger"  value="Générer un pdf" id="pdf" ajax="false">
							<f:setPropertyActionListener value="false"
							target="#{exporterController.customExporter}" />
							<pe:exporter type="pdf" target="studentTable" encoding="CP1252"
							fileName="Resume_Reponses_Examen_Module_N°_#{examenBean.idModule}" />
				   		</h:commandButton>
				</div>
				
   		 </h:panelGroup>
   		 </h:form>
	</div>		  
	</div>
</h:body>
</html>